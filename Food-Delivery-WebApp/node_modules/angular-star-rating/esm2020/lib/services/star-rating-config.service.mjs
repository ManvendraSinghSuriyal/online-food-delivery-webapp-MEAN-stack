/**
 * Configuration service for the StarRating component.
 * You can inject this service, typically in your root component, and customize the values of its properties in
 * order to provide default values for all the star ratings used in the application.
 */
export class StarRatingConfigService {
    constructor() {
        this._classEmpty = 'default-star-empty-icon';
        this._classHalf = 'default-star-half-icon';
        this._classFilled = 'default-star-filled-icon';
        this._numOfStars = 5;
        this._size = 'medium';
        this._labelPosition = 'left';
        this._speed = 'noticeable';
        this._starType = 'svg';
        this._assetsPath = 'assets/images/';
        this._svgPath = this.assetsPath + 'star-rating.icons.svg';
        this._svgEmptySymbolId = 'star-empty';
        this._svgHalfSymbolId = 'star-half';
        this._svgFilledSymbolId = 'star-filled';
        this._svgPathEmpty = this.svgPath + '#' + this.svgEmptySymbolId;
        this._svgPathHalf = this.svgPath + '#' + this.svgHalfSymbolId;
        this._svgPathFilled = this.svgPath + '#' + this.svgFilledSymbolId;
    }
    get classEmpty() {
        return this._classEmpty;
    }
    set classEmpty(classEmpty) {
        this._classEmpty = classEmpty;
    }
    get classHalf() {
        return this._classHalf;
    }
    set classHalf(classHalf) {
        this._classHalf = classHalf;
    }
    get classFilled() {
        return this._classFilled;
    }
    set classFilled(classFilled) {
        this._classFilled = classFilled;
    }
    get numOfStars() {
        return this._numOfStars;
    }
    set numOfStars(numOfStars) {
        this._numOfStars = numOfStars;
    }
    get size() {
        return this._size;
    }
    set size(size) {
        this._size = size;
    }
    get staticColor() {
        return this._staticColor;
    }
    set staticColor(value) {
        this._staticColor = value;
    }
    get labelPosition() {
        return this._labelPosition;
    }
    set labelPosition(labelPosition) {
        this._labelPosition = labelPosition;
    }
    get speed() {
        return this._speed;
    }
    set speed(speed) {
        this._speed = speed;
    }
    get starType() {
        return this._starType;
    }
    set starType(starType) {
        this._starType = starType;
    }
    get assetsPath() {
        return this._assetsPath;
    }
    set assetsPath(assetsPath) {
        this._assetsPath = assetsPath;
    }
    get svgPath() {
        return this._svgPath;
    }
    set svgPath(svgPath) {
        this._svgPath = svgPath;
    }
    get svgEmptySymbolId() {
        return this._svgEmptySymbolId;
    }
    set svgEmptySymbolId(svgEmptySymbolId) {
        this._svgEmptySymbolId = svgEmptySymbolId;
    }
    get svgHalfSymbolId() {
        return this._svgHalfSymbolId;
    }
    set svgHalfSymbolId(svgHalfSymbolId) {
        this._svgHalfSymbolId = svgHalfSymbolId;
    }
    get svgFilledSymbolId() {
        return this._svgFilledSymbolId;
    }
    set svgFilledSymbolId(svgFilledSymbolId) {
        this._svgFilledSymbolId = svgFilledSymbolId;
    }
    get svgPathEmpty() {
        return this._svgPathEmpty;
    }
    set svgPathEmpty(svgPathEmpty) {
        this._svgPathEmpty = svgPathEmpty;
    }
    get svgPathHalf() {
        return this._svgPathHalf;
    }
    set svgPathHalf(svgPathHalf) {
        this._svgPathHalf = svgPathHalf;
    }
    get svgPathFilled() {
        return this._svgPathFilled;
    }
    set svgPathFilled(svgPathFilled) {
        this._svgPathFilled = svgPathFilled;
    }
    getColor(rating, numOfStars, staticColor) {
        rating = rating || 0;
        // if a fix color is set use this one
        if (staticColor) {
            return staticColor;
        }
        // calculate size of smallest fraction
        const fractionSize = numOfStars / 3;
        // apply color by fraction
        let color = 'default';
        if (rating > 0) {
            color = 'negative';
        }
        if (rating > fractionSize) {
            color = 'ok';
        }
        if (rating > fractionSize * 2) {
            color = 'positive';
        }
        return color;
    }
    getHalfStarVisible(rating) {
        return Math.abs(rating % 1) > 0;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Rhci1yYXRpbmctY29uZmlnLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL2FuZ3VsYXItc3Rhci1yYXRpbmcvc3JjL2xpYi9zZXJ2aWNlcy9zdGFyLXJhdGluZy1jb25maWcuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFVQTs7OztHQUlHO0FBQ0gsTUFBTSxPQUFPLHVCQUF1QjtJQUFwQztRQUNFLGdCQUFXLEdBQUcseUJBQXlCLENBQUM7UUFVaEMsZUFBVSxHQUFHLHdCQUF3QixDQUFDO1FBVXRDLGlCQUFZLEdBQUcsMEJBQTBCLENBQUM7UUFVMUMsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFVaEIsVUFBSyxHQUFvQixRQUFRLENBQUM7UUFvQmxDLG1CQUFjLEdBQTRCLE1BQU0sQ0FBQztRQVVqRCxXQUFNLEdBQW9CLFlBQVksQ0FBQztRQVV2QyxjQUFTLEdBQXdCLEtBQUssQ0FBQztRQVV2QyxnQkFBVyxHQUFHLGdCQUFnQixDQUFDO1FBVS9CLGFBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLHVCQUF1QixDQUFDO1FBVXJELHNCQUFpQixHQUFHLFlBQVksQ0FBQztRQVVqQyxxQkFBZ0IsR0FBRyxXQUFXLENBQUM7UUFVL0IsdUJBQWtCLEdBQUcsYUFBYSxDQUFDO1FBVW5DLGtCQUFhLEdBQVcsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBVW5FLGlCQUFZLEdBQVcsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztRQVVqRSxtQkFBYyxHQUFXLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztJQTJDL0UsQ0FBQztJQXpNQyxJQUFJLFVBQVU7UUFDWixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUks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Q0FBQztJQUNsQyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBTdGFyUmF0aW5nQ29uZmlnLFxuICBzdGFyUmF0aW5nQ29sb3IsXG4gIHN0YXJSYXRpbmdTaXplcyxcbiAgc3RhclJhdGluZ1NwZWVkLFxuICBzdGFyUmF0aW5nU3RhclR5cGVzLFxuICBzdGFyUmF0aW5nTGFiZWxQb3NpdGlvbixcbn0gZnJvbSAnLi4vaW50ZXJmYWNlcy9zdGFyLXJhdGluZy1jb25maWcuaW50ZXJmYWNlJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIHNlcnZpY2UgZm9yIHRoZSBTdGFyUmF0aW5nIGNvbXBvbmVudC5cbiAqIFlvdSBjYW4gaW5qZWN0IHRoaXMgc2VydmljZSwgdHlwaWNhbGx5IGluIHlvdXIgcm9vdCBjb21wb25lbnQsIGFuZCBjdXN0b21pemUgdGhlIHZhbHVlcyBvZiBpdHMgcHJvcGVydGllcyBpblxuICogb3JkZXIgdG8gcHJvdmlkZSBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIHRoZSBzdGFyIHJhdGluZ3MgdXNlZCBpbiB0aGUgYXBwbGljYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGFyUmF0aW5nQ29uZmlnU2VydmljZSBpbXBsZW1lbnRzIFN0YXJSYXRpbmdDb25maWcge1xuICBfY2xhc3NFbXB0eSA9ICdkZWZhdWx0LXN0YXItZW1wdHktaWNvbic7XG5cbiAgZ2V0IGNsYXNzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NsYXNzRW1wdHk7XG4gIH1cblxuICBzZXQgY2xhc3NFbXB0eShjbGFzc0VtcHR5OiBzdHJpbmcpIHtcbiAgICB0aGlzLl9jbGFzc0VtcHR5ID0gY2xhc3NFbXB0eTtcbiAgfVxuXG4gIHByaXZhdGUgX2NsYXNzSGFsZiA9ICdkZWZhdWx0LXN0YXItaGFsZi1pY29uJztcblxuICBnZXQgY2xhc3NIYWxmKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2NsYXNzSGFsZjtcbiAgfVxuXG4gIHNldCBjbGFzc0hhbGYoY2xhc3NIYWxmOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9jbGFzc0hhbGYgPSBjbGFzc0hhbGY7XG4gIH1cblxuICBwcml2YXRlIF9jbGFzc0ZpbGxlZCA9ICdkZWZhdWx0LXN0YXItZmlsbGVkLWljb24nO1xuXG4gIGdldCBjbGFzc0ZpbGxlZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9jbGFzc0ZpbGxlZDtcbiAgfVxuXG4gIHNldCBjbGFzc0ZpbGxlZChjbGFzc0ZpbGxlZDogc3RyaW5nKSB7XG4gICAgdGhpcy5fY2xhc3NGaWxsZWQgPSBjbGFzc0ZpbGxlZDtcbiAgfVxuXG4gIHByaXZhdGUgX251bU9mU3RhcnMgPSA1O1xuXG4gIGdldCBudW1PZlN0YXJzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX251bU9mU3RhcnM7XG4gIH1cblxuICBzZXQgbnVtT2ZTdGFycyhudW1PZlN0YXJzOiBudW1iZXIpIHtcbiAgICB0aGlzLl9udW1PZlN0YXJzID0gbnVtT2ZTdGFycztcbiAgfVxuXG4gIHByaXZhdGUgX3NpemU6IHN0YXJSYXRpbmdTaXplcyA9ICdtZWRpdW0nO1xuXG4gIGdldCBzaXplKCk6IHN0YXJSYXRpbmdTaXplcyB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cblxuICBzZXQgc2l6ZShzaXplOiBzdGFyUmF0aW5nU2l6ZXMpIHtcbiAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgfVxuXG4gIHByaXZhdGUgX3N0YXRpY0NvbG9yOiBzdGFyUmF0aW5nQ29sb3I7XG5cbiAgZ2V0IHN0YXRpY0NvbG9yKCk6IHN0YXJSYXRpbmdDb2xvciB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRpY0NvbG9yO1xuICB9XG5cbiAgc2V0IHN0YXRpY0NvbG9yKHZhbHVlOiBzdGFyUmF0aW5nQ29sb3IpIHtcbiAgICB0aGlzLl9zdGF0aWNDb2xvciA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfbGFiZWxQb3NpdGlvbjogc3RhclJhdGluZ0xhYmVsUG9zaXRpb24gPSAnbGVmdCc7XG5cbiAgZ2V0IGxhYmVsUG9zaXRpb24oKTogc3RhclJhdGluZ0xhYmVsUG9zaXRpb24ge1xuICAgIHJldHVybiB0aGlzLl9sYWJlbFBvc2l0aW9uO1xuICB9XG5cbiAgc2V0IGxhYmVsUG9zaXRpb24obGFiZWxQb3NpdGlvbjogc3RhclJhdGluZ0xhYmVsUG9zaXRpb24pIHtcbiAgICB0aGlzLl9sYWJlbFBvc2l0aW9uID0gbGFiZWxQb3NpdGlvbjtcbiAgfVxuXG4gIHByaXZhdGUgX3NwZWVkOiBzdGFyUmF0aW5nU3BlZWQgPSAnbm90aWNlYWJsZSc7XG5cbiAgZ2V0IHNwZWVkKCk6IHN0YXJSYXRpbmdTcGVlZCB7XG4gICAgcmV0dXJuIHRoaXMuX3NwZWVkO1xuICB9XG5cbiAgc2V0IHNwZWVkKHNwZWVkOiBzdGFyUmF0aW5nU3BlZWQpIHtcbiAgICB0aGlzLl9zcGVlZCA9IHNwZWVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3RhclR5cGU6IHN0YXJSYXRpbmdTdGFyVHlwZXMgPSAnc3ZnJztcblxuICBnZXQgc3RhclR5cGUoKTogc3RhclJhdGluZ1N0YXJUeXBlcyB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXJUeXBlO1xuICB9XG5cbiAgc2V0IHN0YXJUeXBlKHN0YXJUeXBlOiBzdGFyUmF0aW5nU3RhclR5cGVzKSB7XG4gICAgdGhpcy5fc3RhclR5cGUgPSBzdGFyVHlwZTtcbiAgfVxuXG4gIHByaXZhdGUgX2Fzc2V0c1BhdGggPSAnYXNzZXRzL2ltYWdlcy8nO1xuXG4gIGdldCBhc3NldHNQYXRoKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2V0c1BhdGg7XG4gIH1cblxuICBzZXQgYXNzZXRzUGF0aChhc3NldHNQYXRoOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9hc3NldHNQYXRoID0gYXNzZXRzUGF0aDtcbiAgfVxuXG4gIHByaXZhdGUgX3N2Z1BhdGggPSB0aGlzLmFzc2V0c1BhdGggKyAnc3Rhci1yYXRpbmcuaWNvbnMuc3ZnJztcblxuICBnZXQgc3ZnUGF0aCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9zdmdQYXRoO1xuICB9XG5cbiAgc2V0IHN2Z1BhdGgoc3ZnUGF0aDogc3RyaW5nKSB7XG4gICAgdGhpcy5fc3ZnUGF0aCA9IHN2Z1BhdGg7XG4gIH1cblxuICBwcml2YXRlIF9zdmdFbXB0eVN5bWJvbElkID0gJ3N0YXItZW1wdHknO1xuXG4gIGdldCBzdmdFbXB0eVN5bWJvbElkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3N2Z0VtcHR5U3ltYm9sSWQ7XG4gIH1cblxuICBzZXQgc3ZnRW1wdHlTeW1ib2xJZChzdmdFbXB0eVN5bWJvbElkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9zdmdFbXB0eVN5bWJvbElkID0gc3ZnRW1wdHlTeW1ib2xJZDtcbiAgfVxuXG4gIHByaXZhdGUgX3N2Z0hhbGZTeW1ib2xJZCA9ICdzdGFyLWhhbGYnO1xuXG4gIGdldCBzdmdIYWxmU3ltYm9sSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fc3ZnSGFsZlN5bWJvbElkO1xuICB9XG5cbiAgc2V0IHN2Z0hhbGZTeW1ib2xJZChzdmdIYWxmU3ltYm9sSWQ6IHN0cmluZykge1xuICAgIHRoaXMuX3N2Z0hhbGZTeW1ib2xJZCA9IHN2Z0hhbGZTeW1ib2xJZDtcbiAgfVxuXG4gIHByaXZhdGUgX3N2Z0ZpbGxlZFN5bWJvbElkID0gJ3N0YXItZmlsbGVkJztcblxuICBnZXQgc3ZnRmlsbGVkU3ltYm9sSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fc3ZnRmlsbGVkU3ltYm9sSWQ7XG4gIH1cblxuICBzZXQgc3ZnRmlsbGVkU3ltYm9sSWQoc3ZnRmlsbGVkU3ltYm9sSWQ6IHN0cmluZykge1xuICAgIHRoaXMuX3N2Z0ZpbGxlZFN5bWJvbElkID0gc3ZnRmlsbGVkU3ltYm9sSWQ7XG4gIH1cblxuICBwcml2YXRlIF9zdmdQYXRoRW1wdHk6IHN0cmluZyA9IHRoaXMuc3ZnUGF0aCArICcjJyArIHRoaXMuc3ZnRW1wdHlTeW1ib2xJZDtcblxuICBnZXQgc3ZnUGF0aEVtcHR5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3N2Z1BhdGhFbXB0eTtcbiAgfVxuXG4gIHNldCBzdmdQYXRoRW1wdHkoc3ZnUGF0aEVtcHR5OiBzdHJpbmcpIHtcbiAgICB0aGlzLl9zdmdQYXRoRW1wdHkgPSBzdmdQYXRoRW1wdHk7XG4gIH1cblxuICBwcml2YXRlIF9zdmdQYXRoSGFsZjogc3RyaW5nID0gdGhpcy5zdmdQYXRoICsgJyMnICsgdGhpcy5zdmdIYWxmU3ltYm9sSWQ7XG5cbiAgZ2V0IHN2Z1BhdGhIYWxmKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3N2Z1BhdGhIYWxmO1xuICB9XG5cbiAgc2V0IHN2Z1BhdGhIYWxmKHN2Z1BhdGhIYWxmOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9zdmdQYXRoSGFsZiA9IHN2Z1BhdGhIYWxmO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3ZnUGF0aEZpbGxlZDogc3RyaW5nID0gdGhpcy5zdmdQYXRoICsgJyMnICsgdGhpcy5zdmdGaWxsZWRTeW1ib2xJZDtcblxuICBnZXQgc3ZnUGF0aEZpbGxlZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9zdmdQYXRoRmlsbGVkO1xuICB9XG5cbiAgc2V0IHN2Z1BhdGhGaWxsZWQoc3ZnUGF0aEZpbGxlZDogc3RyaW5nKSB7XG4gICAgdGhpcy5fc3ZnUGF0aEZpbGxlZCA9IHN2Z1BhdGhGaWxsZWQ7XG4gIH1cblxuICBnZXRDb2xvcihcbiAgICByYXRpbmc6IG51bWJlcixcbiAgICBudW1PZlN0YXJzOiBudW1iZXIsXG4gICAgc3RhdGljQ29sb3I/OiBzdGFyUmF0aW5nQ29sb3JcbiAgKTogc3RhclJhdGluZ0NvbG9yIHtcbiAgICByYXRpbmcgPSByYXRpbmcgfHwgMDtcblxuICAgIC8vIGlmIGEgZml4IGNvbG9yIGlzIHNldCB1c2UgdGhpcyBvbmVcbiAgICBpZiAoc3RhdGljQ29sb3IpIHtcbiAgICAgIHJldHVybiBzdGF0aWNDb2xvcjtcbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgc2l6ZSBvZiBzbWFsbGVzdCBmcmFjdGlvblxuICAgIGNvbnN0IGZyYWN0aW9uU2l6ZSA9IG51bU9mU3RhcnMgLyAzO1xuXG4gICAgLy8gYXBwbHkgY29sb3IgYnkgZnJhY3Rpb25cbiAgICBsZXQgY29sb3I6IHN0YXJSYXRpbmdDb2xvciA9ICdkZWZhdWx0JztcbiAgICBpZiAocmF0aW5nID4gMCkge1xuICAgICAgY29sb3IgPSAnbmVnYXRpdmUnO1xuICAgIH1cbiAgICBpZiAocmF0aW5nID4gZnJhY3Rpb25TaXplKSB7XG4gICAgICBjb2xvciA9ICdvayc7XG4gICAgfVxuICAgIGlmIChyYXRpbmcgPiBmcmFjdGlvblNpemUgKiAyKSB7XG4gICAgICBjb2xvciA9ICdwb3NpdGl2ZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgZ2V0SGFsZlN0YXJWaXNpYmxlKHJhdGluZzogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHJhdGluZyAlIDEpID4gMDtcbiAgfVxufVxuIl19