{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { Component } from '@angular/core';\nexport let TrackOrderComponent = class TrackOrderComponent {\n  constructor(activatedRoute, orderService) {\n    this.activatedRoute = activatedRoute;\n    this.orderService = orderService;\n    this.currentState = '*';\n  }\n  ngOnInit() {\n    const params = this.activatedRoute.snapshot.params;\n    if (!params['orderId']) return;\n    this.orderService.trackOrderById(params['orderId']).subscribe(order => {\n      this.order = order;\n    });\n    this.orderService.getOrderStatusUpdates().subscribe(statusArray => {\n      this.statusArray = statusArray;\n      this.updateStatus();\n    });\n  }\n  updateStatus() {\n    this.currentStatus = this.statusArray[this.statusArray.length - 1].status;\n    this.currentState = 'loading';\n    setTimeout(() => {\n      this.currentState = '*';\n    }, 300);\n  }\n  getStatusIconClass(status) {\n    // console.log(status.toLowerCase().replace(' ','-'))\n    return status.toLowerCase().replaceAll(' ', '-');\n  }\n};\nTrackOrderComponent = __decorate([Component({\n  selector: 'app-track-order',\n  templateUrl: './track-order.component.html',\n  styleUrls: ['./track-order.component.css'],\n  animations: [trigger('statusChange', [state('loading', style({\n    opacity: 0.5\n  })), state('*', style({\n    opacity: 1\n  })), transition('* => loading', animate('300ms ease-in')), transition('* => *', animate('300ms ease-in'))])]\n})], TrackOrderComponent);","map":{"version":3,"names":["animate","state","style","transition","trigger","Component","TrackOrderComponent","constructor","activatedRoute","orderService","currentState","ngOnInit","params","snapshot","trackOrderById","subscribe","order","getOrderStatusUpdates","statusArray","updateStatus","currentStatus","length","status","setTimeout","getStatusIconClass","toLowerCase","replaceAll","__decorate","selector","templateUrl","styleUrls","animations","opacity"],"sources":["D:\\Projects\\Angular Projects\\OnlineFoodDelivery_WebApplication\\Food-Delivery-WebApp\\src\\app\\components\\pages\\track-order\\track-order.component.ts"],"sourcesContent":["import { animate, state, style, transition, trigger } from '@angular/animations';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { OrderService } from 'src/app/services/order.service';\nimport { Order } from 'src/app/shared/models/Order';\n\n@Component({\n  selector: 'app-track-order',\n  templateUrl: './track-order.component.html',\n  styleUrls: ['./track-order.component.css'],\n  animations: [\n    trigger('statusChange', [\n      state('loading', style({ opacity: 0.5 })),\n      state('*', style({ opacity: 1 })),\n      transition('* => loading', animate('300ms ease-in')),\n      transition('* => *', animate('300ms ease-in'))\n    ])\n  ]\n})\nexport class TrackOrderComponent implements OnInit{\n\n  order!:Order;\n  statusArray!: { status: string; icon: string }[];\n  currentStatus!: string;\n  currentState = '*';\n  constructor(private activatedRoute: ActivatedRoute,\n              private orderService:OrderService) {\n    \n\n  }\n\n  ngOnInit(): void {\n    const params = this.activatedRoute.snapshot.params;\n    if(!params['orderId']) return;\n\n    this.orderService.trackOrderById(params['orderId']).subscribe(order => {\n      this.order = order;\n    })\n\n    this.orderService.getOrderStatusUpdates().subscribe(statusArray => {\n      this.statusArray = statusArray;\n      this.updateStatus();\n    });\n\n  }\n\n\n  updateStatus() {\n    this.currentStatus = this.statusArray[this.statusArray.length - 1].status;\n    this.currentState = 'loading';\n    setTimeout(() => {\n      this.currentState = '*';\n    }, 300);\n  }\n\n  getStatusIconClass(status: string) {\n\n    // console.log(status.toLowerCase().replace(' ','-'))\n    return status.toLowerCase().replaceAll(' ', '-');\n  }\n\n}\n"],"mappings":";AAAA,SAASA,OAAO,EAAEC,KAAK,EAAEC,KAAK,EAAEC,UAAU,EAAEC,OAAO,QAAQ,qBAAqB;AAChF,SAASC,SAAS,QAAgB,eAAe;AAkB1C,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAM9BC,YAAoBC,cAA8B,EAC9BC,YAAyB;IADzB,KAAAD,cAAc,GAAdA,cAAc;IACd,KAAAC,YAAY,GAAZA,YAAY;IAFhC,KAAAC,YAAY,GAAG,GAAG;EAKlB;EAEAC,QAAQA,CAAA;IACN,MAAMC,MAAM,GAAG,IAAI,CAACJ,cAAc,CAACK,QAAQ,CAACD,MAAM;IAClD,IAAG,CAACA,MAAM,CAAC,SAAS,CAAC,EAAE;IAEvB,IAAI,CAACH,YAAY,CAACK,cAAc,CAACF,MAAM,CAAC,SAAS,CAAC,CAAC,CAACG,SAAS,CAACC,KAAK,IAAG;MACpE,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;IAEF,IAAI,CAACP,YAAY,CAACQ,qBAAqB,EAAE,CAACF,SAAS,CAACG,WAAW,IAAG;MAChE,IAAI,CAACA,WAAW,GAAGA,WAAW;MAC9B,IAAI,CAACC,YAAY,EAAE;IACrB,CAAC,CAAC;EAEJ;EAGAA,YAAYA,CAAA;IACV,IAAI,CAACC,aAAa,GAAG,IAAI,CAACF,WAAW,CAAC,IAAI,CAACA,WAAW,CAACG,MAAM,GAAG,CAAC,CAAC,CAACC,MAAM;IACzE,IAAI,CAACZ,YAAY,GAAG,SAAS;IAC7Ba,UAAU,CAAC,MAAK;MACd,IAAI,CAACb,YAAY,GAAG,GAAG;IACzB,CAAC,EAAE,GAAG,CAAC;EACT;EAEAc,kBAAkBA,CAACF,MAAc;IAE/B;IACA,OAAOA,MAAM,CAACG,WAAW,EAAE,CAACC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC;EAClD;CAED;AA1CYpB,mBAAmB,GAAAqB,UAAA,EAb/BtB,SAAS,CAAC;EACTuB,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B,CAAC;EAC1CC,UAAU,EAAE,CACV3B,OAAO,CAAC,cAAc,EAAE,CACtBH,KAAK,CAAC,SAAS,EAAEC,KAAK,CAAC;IAAE8B,OAAO,EAAE;EAAG,CAAE,CAAC,CAAC,EACzC/B,KAAK,CAAC,GAAG,EAAEC,KAAK,CAAC;IAAE8B,OAAO,EAAE;EAAC,CAAE,CAAC,CAAC,EACjC7B,UAAU,CAAC,cAAc,EAAEH,OAAO,CAAC,eAAe,CAAC,CAAC,EACpDG,UAAU,CAAC,QAAQ,EAAEH,OAAO,CAAC,eAAe,CAAC,CAAC,CAC/C,CAAC;CAEL,CAAC,C,EACWM,mBAAmB,CA0C/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}